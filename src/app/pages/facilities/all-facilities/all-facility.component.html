<app-breadcrumbs
  title="Facilities Details"
  [breadcrumbItems]="breadCrumbItems"
></app-breadcrumbs>

<div class="row">
  <div class="col-12">

    <div class="card">
      <div
        class="card-header custom-tr"
       
      >
        <a
          type="button"
          class="btn btn-primary waves-effect waves-light"
          [routerLink]="['add']"
        >
          Add New Facility &nbsp; <strong>+</strong>
        </a>
      </div>  
    <div class="row">
      <!-- Loop through each facility item and display it in a card -->
      @for (item of facilities; track item; let i = $index) {
      <div class="col-md-4 col-sm-6">
        <div class="card mb-4 shadow-sm">
          <div class="card-body">
            <h5 class="card-title">{{ item.facilityName }}</h5>
            <p class="card-text">
              <strong>Location:</strong> {{ item.location }}<br>
              <strong>Contact:</strong> {{ item.contactNo }}<br>
              <strong>Status:</strong> 
              @if(item.status == 1) {
                <span class="badge bg-success-subtle text-success">Active</span>
              } @else {
                <span class="badge bg-warning-subtle text-warning">Inactive</span>
              }
            </p>
            <a href="/facilities/{{ item.id }}" class="btn btn-primary">View Details</a>
          </div>
        </div>
      </div>
      }
    </div>
    <div class="row justify-content-md-between align-items-md-center">
      <div class="col-sm-12 col-md-5">
        <div
          class="dataTables_info mb-2"
          id="facilities-table_info"
          role="status"
          aria-live="polite"
        >
          {{ calculateEntryRange() }}
        </div>
      </div>
      <div class="col-sm-12 col-md-5">
        <div class="text-md-right float-md-end gridjs-pagination">
          <ngb-pagination
            (pageChange)="loadPage($event)"
            [collectionSize]="totalCount"
            [page]="currentPage"
            [pageSize]="pageSize"
          >
          </ngb-pagination>
        </div>
      </div>
    </div>
  </div>
</div>

<ngx-ui-loader></ngx-ui-loader>
